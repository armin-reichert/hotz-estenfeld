\section{Normal forms of grammars}
In chapter 1.6 we learned about the notion of a grammar, especially about context-free grammars. Now we want to define normal-forms for these grammars which are given by certain restrictions on the form of the grammar rules.

\begin{definition}
Let $G = (N, X, P, S)$\ be a context-free grammar. $G$ is in \textbf{Chomsky normal form} or CNF for short, if
$$P \subset N \times N^{2}\  \cup\ N \times X.$$
\end{definition}

Additionally we require $\epsilon \in L(G) \iff S \rightarrow \epsilon \in P.$ Here, $L(G) $ is the language generated by grammar $G$, see chapter 1.6.

We define
$$
CF(X^{\star}) = \{ L\ |\ L = L(G),\ G = (N, P, X, S)\ \text{context-free grammar}
$$
as the class of \textbf{context-free languages} over the alphabet $X$.

We want to show now that in the definition of $CF(X^{*})$ we also can require that $G$ is in Chomsky normal form. It holds

\begin{theorem}
For each context-free grammar $G$ there exists a CNF grammar $G'$ with $L(G) = L(G')$.
\end{theorem}

\begin{proof}
Let without loss of generality $\epsilon \notin L(G)$. We will construct $G'$ from $G$ in several steps.

Step 1: 

Let $p \in P(G)$ with 
$$p: Y \rightarrow t_1 Y_1 t_2 \ldots t_k Y_k t_{k+1},$$
$t_i \in X,\ Y_i \in N^*,\ i=1,\ldots,k\ (\text{or}\ k+1\ \text{resp.}).$

We introduce new nonterminals $Y_{t_j},\ j = 1, \ldots, k+1,$\ and replace rule $p$ by new rules
$$Y \rightarrow Y_{t_1} Y_1 Y_{t_2} \ldots \ Y_k Y_{t_{k+1}}$$ and
$$Y_{t_j} \rightarrow t_j,\ j = 1, \ldots, k+1.$$

If $Y \rightarrow Z \in P,\ Y, Z \in N$, add a rule $Y \rightarrow w$ to the new production system for each $Z \rightarrow w \in P$ and $w \in X$ or $length(w) \geq 2$.

Let $N''$ be our nonterminal alphabet resulting from this construction.

We get a production system $P''$ where only terminal productions or productions of the form $Y \rightarrow Y_1 \ldots Y_m,\ Y-i \in N'',\ m \geq 2$\ exist.

Step 2:

Let $p: Y \rightarrow Y_1 \ldots Y_m \in P'',\ m \geq 3.$

We introduce new nonterminals $Z_i,\ i=1,\ldots,m-2$ and replace $p$ by
\begin{eqnarray*}
p_1 & : & Y \rightarrow Y_1 Z_1 \\
p_2 & : & Z_1 \rightarrow Y_2 Z_2 \\
\vdots \\
p_{m-1} & : & Z_{m-2} \rightarrow Y_{m-1} Y_m
\end{eqnarray*}

We do this for all rules $p$ of the form above and obtain a grammar
$$G' = (N', X, P', s)$$
in Chomsky normal form. It is easy to show that $L(G') = L(G)$\ (exercise). 
\end{proof}

   